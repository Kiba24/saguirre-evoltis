<p-toast></p-toast> 
<div class="p-grid p-align-center p-justify-center">
  <div class="p-col-12 p-md-6">
    <p-card>
      <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
        <p-fieldset legend="Create User">

          <div class="p-field">
            <label for="name">Name:</label>
            <input id="name" pInputText formControlName="name" />
            <small *ngIf="userForm.get('name')?.invalid && (userForm.get('name')?.dirty || userForm.get('name')?.touched)">
              <div *ngIf="userForm.get('name')?.hasError('required')">Name is required.</div>
            </small>
          </div>

          <div class="p-field">
            <label for="last_name">Last Name:</label>
            <input id="last_name" pInputText formControlName="last_name" />
            <small *ngIf="userForm.get('last_name')?.invalid && (userForm.get('last_name')?.dirty || userForm.get('last_name')?.touched)">
              <div *ngIf="userForm.get('last_name')?.hasError('required')">Last Name is required.</div>
            </small>
          </div>

          <div class="p-field">
            <label for="email">Email:</label>
            <input id="email" pInputText formControlName="email" />
            <small *ngIf="userForm.get('email')?.invalid && (userForm.get('email')?.dirty || userForm.get('email')?.touched)">
              <div *ngIf="userForm.get('email')?.hasError('required')">Email is required.</div>
              <div *ngIf="userForm.get('email')?.hasError('email')">Invalid email format.</div>
            </small>
          </div>

          <div class="p-field">
            <label for="location_id">Location ID:</label>
            <input id="location_id" pInputText formControlName="location_id" />
            <small *ngIf="userForm.get('location_id')?.invalid && (userForm.get('location_id')?.dirty || userForm.get('location_id')?.touched)">
              <div *ngIf="userForm.get('location_id')?.hasError('required')">Location ID is required.</div>
              <div *ngIf="userForm.get('location_id')?.hasError('pattern')">Location ID must be a number.</div>
            </small>
          </div>

          <p-button label="Submit" type="submit" [disabled]="userForm.invalid"></p-button>


        </p-fieldset>
      </form>
          <p-button label="User list" routerLink="/users"></p-button>

    </p-card>
  </div>
</div>
